#include <iostream>

using namespace std;
#define ll long long
void
solve ()
{
  ll n;
  cin >> n;
  string s1, s2;
  cin >> s1 >> s2;
  string cpy = s1;
  int i = n - 1;
  int tog = 0;
  vector < int >ans;
  int l = 0, r = n - 1;
  while (i >= 0)
    {

      if (tog % 2 == 0)
	{
	  if (s2[i] != s1[0])
	    {
	      ans.push_back (i + 1);
	    }
	  else
	    {
	      ans.push_back (1);
	      ans.push_back (i + 1);
	    }
	}
      else
	{
	  if (s2[i] == s1[0])
	    {
	      ans.push_back (i + 1);
	    }
	  else
	    {
	      ans.push_back (1);
	      ans.push_back (i + 1);
	    }
	}
      if (tog % 2 == 0)
	{
	  l++;
	  s1[0] = cpy[r];
	}
      else
	{
	  r--;
	  s1[0] = cpy[l];
	}
      i--;
      tog++;
    }
  cout << ans.size () << " ";
for (auto it:ans)
    cout << it << " ";
  cout << endl;

}

int
main ()
{
  int t;cin>>t;
  while(t--)
  {
      solve();
  }

  return 0;
}
